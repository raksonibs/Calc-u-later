---
layout: default
title: Blog Posts
---

<div id="marketing" class="marketing">  
  <div id="start">
    <image id="calc-img" src="http://icons.iconarchive.com/icons/grafikartes/flat-retro-modern/512/calculator-icon.png" /> 
    {% for post in site.posts %}
      <div class="post-cont">
        <h1>{{post.title}}</h1>
        <h3>{{ post.date | date_to_string }}</h3>
        <div id="post">
          {{post.content}}
        </div>
      </div>
    {% endfor %}
  </div>

  <div class="presentation">
    <div id="intro" class="slide">
      <h1>Intro</h1>
      <div class="left-bracket">
      <
      </div>
      <div class="images">
        <image class="inline-img" src="/assets/mohammad.jpg" />
        <image class="inline-img" src="/assets/oskar.JPG" />
        <image class="inline-img" src="/assets/anji.png" />
        <image class="inline-img" src="/assets/brad.png" />
        <image class="inline-img" src="/assets/asmah.png" />
      </div>
      <div class="right-bracket">
      />
      </div>
    </div>
    <div id="demo" class="slide">
      <h1>Demo</h1>
      <ul>
        <li>
          <i class="fa fa-calculator"></i>
          <br />
          Basic
        </li>
        <li>
          <i class="fa fa-mortar-board"></i>
          <br />
          Advanced
        </li>
        <li>
          <i class="fa fa-bug"></i>
          <br />
          Error Handling
        </li>
        <li>
          <i class="fa fa-bar-chart"></i>
          <br />
          Graph
        </li>
        <li>
          <i class="fa fa-star"></i>
          <br />
          Favourites
        </li>
      </ul>
    </div>
    <div id="design" class="slide">
      <h1>Design</h1>
      <ul>
        <h2><em>Parts of our design document </em></h2>
        <image src="/assets/design1.png" />
        <image src="/assets/design2.png" />
        <image src="/assets/design3.png" />
        <image src="/assets/design4.png" />
        <image src="/assets/design5.png" />
        <image src="/assets/design6.png" />
        <image src="/assets/design7.png" />
        <image src="/assets/design8.png" />
        <image src="/assets/design9.png" />
        <br />
        <br />
        <br />
        <h3>MVC Overview</h3>
        <image src="/assets/classdiagram.png" />
        <image src="/assets/classmain.png" />
        <h3>UML Diagrams</h3>
        <div class="uml-holder">
          <image src="/assets/modeluml.png" />
          <image src="/assets/controlleruml.png" />
          <image src="/assets/viewuml.png" />
          <image src="/assets/graphmodel.png" />
          <image src="/assets/graphcontroller.png" />
          <image src="/assets/graphview.png" />
          <br />
          <image src="/assets/favcontroller.png" />
          <image src="/assets/favview.png" />
        </div>
        <br />
        <h3>Expression Builder/Parser</h3>
        <h3>MAIN Layer</h3>
        <pre class="prettyprint">
import javax.swing.*;
import javax.swing.event.ChangeEvent;
import javax.swing.event.ChangeListener;

import java.awt.*;

public class mainClass extends JApplet
{
 private JTabbedPane MAIN = new JTabbedPane();
 public static int WIDTH = 410;
 public static int HEIGHT = 485;

 CalcModel model;
 CalcController control = new CalcController(MAIN);
 FavouritesController favC;
 GraphController graphControl = new GraphController(MAIN);
 FavouritesPanel panel2;

public void init()
{
  System.out.println("mainClass");
  
   CalcModel model = new CalcModel(MAIN);
   final GraphModel graphModel = new GraphModel("");
   
   final CalcController calcControl = new CalcController(model, graphModel, MAIN);
   final GraphController graphControl = new GraphController(model, graphModel);
  
    panel2 = new FavouritesPanel(MAIN, control);
    CalcView calculatorView = new CalcView(calcControl, MAIN);
    final GraphView graphView = new GraphView(graphControl);

    MAIN.addTab("Calculator", calculatorView);
    MAIN.addTab("Graph", graphView);

    MAIN.addTab("Favourites", panel2);
    
    MAIN.addChangeListener(new ChangeListener() {
        public void stateChanged(ChangeEvent e) {
          graphControl.updateGraph();
            System.out.println("Tab: " + MAIN.getSelectedIndex());
            if (MAIN.getSelectedIndex() == 2)
            {
              for (String s: favC.a){panel2.addToFavourites(s);}
            }
            else if (MAIN.getSelectedIndex() == 0)
            {
              panel2.clearList();
                panel2.addToFavourites("Select Favourite...");
            } else if ( MAIN.getSelectedIndex() == 1) {
                if (panel2.fromFavourites)
                {
                  graphModel.pushExpression(panel2.selected);
                  panel2.fromFavourites = false;
                }
              graphView.updateGraph(graphModel.getChartPanel());
              panel2.clearList();
                panel2.addToFavourites("Select Favourite...");
            }            
        }
    });
  
    getContentPane().add(MAIN);
    setSize(WIDTH,HEIGHT);
}
}

//
public CalcController(JTabbedPane MAIN)
  {
    view = new CalcView(this, MAIN);
    view.setVisible(true);
  }

  //
  MAIN.setSelectedIndex(1);
        </pre>
        <h3>Graphing/Saving</h3>
        <pre class="prettypink">
button = new ButtonAdapter("Graph"){
  public void pressed() {
    registerButton("Graph", theController);
    MAIN.setSelectedIndex(1);
  }
};

// GraphModel.java
String expressionString = expression;
       
if(expression.contains("!") && expression.contains("X")){   //Replace variable in factorial with appropriate numbers
  expressionString = expression.replace("!", fact(i));
}

e = new ExpressionBuilder(expressionString)
.variables("X", "y")
.build()
.setVariable("X", i);
double result = e.evaluate();

  if(expression.contains("X"))  //If we're dealing with a variable we have to account for asymptotes
  {
    /*
     * We check if the differences between two values starts to get too large
     * If its getting really big really quickly, its likely approaching an asymptote
     * This can cause issues with things like factorial, in which case the
     * tolerance needs to be adjusted to compensate.
     */
   current = result;
    difference = Math.abs(current - previous);  //Check the absolute value of the difference between current result and previous result

          
    //System.out.println(difference);
    
    if(difference < prevDif * tolerance){
      //System.out.println("Within Bounds");
        series.add(i, result);
    }
    else
    {
      //System.out.println("Out of specified bounds");  //If out of bounds, don't connect the points

      series.add(i,null);
    }
  }
  else  //Other if theres no variables, were just drawing a straight line
  {
    series.add(i,result);
  }
  
  prevDif = difference;
  previous = current;   
  
}

XYSeriesCollection data = new XYSeriesCollection(series);
JFreeChart chart = ChartFactory.createXYLineChart(
 expressionDirty,
 "X", //X-axis Name
 "Y", //Y-axis Name
 data,  //Dataset
 PlotOrientation.VERTICAL,  //This will always be vertical for our purposes
 true,  //Legend
 true,  //Tool tips
 false  //URLS, (don't need this)
 );

ChartPanel chartPanel = new ChartPanel(chart);
chartPanel.setPreferredSize(new java.awt.Dimension(400, 400));    

return chartPanel;

}
        </pre>
      </ul>
    </div>
    <div id="testing" class="slide">
      <h1>Testing</h1>
      <ul class="image-holder">
        <image src="/assets/t1.png" />
        <image src="/assets/t2.png" />
        <image src="/assets/t3.png" />
        <image src="/assets/t4.png" />
      </ul>
    </div>
    <div id="web" class="slide">
      <h1>Web</h1>
      <ul>
        <li>Bar</li>
        <li>Come Visit!</li>
      </ul>
    </div>
    <div id="asmah" class="slide">
      <h1>Asmah</h1>
      <ul>
        <h3>Requirements</h3>
        <image src="/assets/classmain.png" />
      </ul>
    </div>
    <div id="mohammad" class="slide">
      <h1>Mohammad</h1>
      <ul>
        <h3>Expressions</h3>
      </ul>
    </div>
    <div id="anji" class="slide">
      <h1>Anji</h1>
      <ul>
        <h3>Favourites</h3>
        <pre class="prettyprint">
box = new JComboBox<String>(); 
box.addItem("Select Favourite..."); 
box.addItemListener(new ItemListener() {
  public void itemStateChanged(ItemEvent e) {
    if (e.getStateChange() == ItemEvent.SELECTED &&!box.getSelectedItem().equals("Select Favourite...") && !flag)
    {
      selected = box.getSelectedItem().toString(); 
      fromFavourites = true; 
      MAIN.setSelectedIndex(1);
    } 
  }
});

//from settings in main
if (panel2.fromFavourites) {
  graphModel.pushExpression(panel2.selected);
  panel2.fromFavourites = false; 
}

//any save
public void saving(String s) {
  if (!a.contains(s)) 
    a.add(s);
}

//delete
JButton b = new ButtonAdapter("DELETE") {
  public void pressed() {
    flag = true; 
  }
};
b.setToolTipText("HOW TO DELETE: Press DELETE then select the expression you wish to delete.");

//when flag is true
if (e.getStateChange() == ItemEvent.SELECTED && !box.getSelectedItem().equals("Select Favourite...") && flag)
{
  favC.a.remove(box.getSelectedItem()); 
  box.removeItem(box.getSelectedItem()); 
  flag = false;
}

        </pre>
      </ul>
    </div>
    <div id="brad" class="slide">
      <h1>Brad</h1>
      <ul>
        <pre class="prettyprint">
  private JTabbedPane MAIN = new JTabbedPane();
  private CalcModel c;
  private BigInteger b;

  @Before
  public void setUp() throws Exception {
    c = new CalcModel(MAIN);
  }

  @Test
  public void testDivide() {
    c.divide(); //Check division with no input
    assertEquals("", c.getExpressionValue());
    double FirstInput = 8.0;
    c.pushNumber(BigDecimal.valueOf(FirstInput));
    double SecondInput = 4.0;
    c.pushNumber(BigDecimal.valueOf(SecondInput));
    c.divide();
    BigDecimal ExpectedValue = new BigDecimal(2.0);
    assertEquals(ExpectedValue, c.getCalculatedValue());
    //Check BigDecimal
    assertEquals(2.0, c.getCalculatedValue().doubleValue(), 0.01);
    //Check conversion to double
    assertEquals("/", c.getLastExpression());
    //Check that operator was placed correctly
    c.divide(); //Test that operator is substituted
    assertEquals("8/4/1", c.getExpressionValue());
    //Now test variables
    c.variable();
    c.divide();
    assertEquals("(((8/4)/1)/X)", c.getExpressionValue());
    //Ensure it still functions after clearing
    c.clear();
    FirstInput = 3.0;
    c.pushNumber(BigDecimal.valueOf(FirstInput));
    SecondInput = 0.0; //Checking divide by zero
    c.pushNumber(BigDecimal.valueOf(FirstInput));
    c.divide();
    assertEquals("3,0", c.getExpressionValue());
    //Ensure division didn't take place
  }
        </pre>
        <li>Graph</li>
        <pre class="prettyprint">
  public ChartPanel getChartPanel(){

    XYSeries series = new XYSeries(expression);
    //Enters the values

   for(double i = xLeft; i < xRight; i = i + precision){
     String expressionString = expression;
     if(expression.contains("!") && expression.contains("X")){
    //Replace variable in factorial with appropriate numbers
     expressionString = expression.replace("!", fact(i));
   }

   e = new ExpressionBuilder(expressionString)
   .variables("X")
   .build()
   .setVariable("X", i);
   double result = e.evaluate();
   if(expression.contains("X")) {
    //If we're dealing with a variable we have to account for asymptotes

    /*
    We check if the differences between two values starts to get too large If its getting
    really big really quickly, its likely approaching an asymptote This can cause issues
    with things like factorial, in which case the tolerance needs to be adjusted to
    compensate.
    */
     current = result;
     difference = Math.abs(current - previous);
    //Check the absolute value of the difference between current result and previous
    result
    if(difference < prevDif * tolerance){
      series.add(i, result);
    }
    else
    {
      series.add(i,null);
    }
    } else //Other if theres no variables, were just drawing a straight line
    {
      series.add(i,result);
    }

    prevDif = difference;
    previous = current;

    }

   XYSeriesCollection data = new XYSeriesCollection(series);
   JFreeChart chart = ChartFactory.createXYLineChart(
   expression,
   "X", //X-axis Name
   "Y", //Y-axis Name
   data, //Dataset
   PlotOrientation.VERTICAL,
   true, //Legend
   true, //Tool tips
   false
   );
   ChartPanel chartPanel = new ChartPanel(chart);
   chartPanel.setPreferredSize(new java.awt.Dimension(400, 400));
   return chartPanel;
  }
        </pre>
      </ul>
    </div>
    <div id="oskar" class="slide">
      <h1>Oskar</h1>
      <ul>
        <h3>Project Management</h3>
        <image src="/assets/commit.png" />
      </ul>
    </div>
    <div id="goals" class="slide">
      <h1>Stretch Goals</h1>
      <ul>
        <li>
          <i class="fa fa-bicycle"></i>
          <br />
          Error Look
        </li>
        <li>
          <i class="fa fa-rocket"></i>
          <br />
          Servlet with Persistant DB - Tomcat
        </li>
      </ul>
    </div>
  </div>
</div>